{"remainingRequest":"/Users/taijased/Documents/WEB/ARQ/ari-temp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/taijased/Documents/WEB/ARQ/ari-temp/src/views/CreateValentine.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/taijased/Documents/WEB/ARQ/ari-temp/src/views/CreateValentine.vue","mtime":1553690150423},{"path":"/Users/taijased/Documents/WEB/ARQ/ari-temp/node_modules/css-loader/index.js","mtime":1542657646673},{"path":"/Users/taijased/Documents/WEB/ARQ/ari-temp/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1549106391675},{"path":"/Users/taijased/Documents/WEB/ARQ/ari-temp/node_modules/postcss-loader/src/index.js","mtime":1542657646883},{"path":"/Users/taijased/Documents/WEB/ARQ/ari-temp/node_modules/less-loader/dist/cjs.js","mtime":1542657649792},{"path":"/Users/taijased/Documents/WEB/ARQ/ari-temp/node_modules/cache-loader/dist/cjs.js","mtime":1549106391509},{"path":"/Users/taijased/Documents/WEB/ARQ/ari-temp/node_modules/vue-loader/lib/index.js","mtime":1549106391675}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import url(\"../style/animation.less\");\n\n.creator {\n  width: 100%;\n  padding: 0 8%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  background: #000;\n  @media @xs {\n    margin: 250px 0;\n    margin: 0;\n    padding: 0;\n    height: auto;\n    overflow-y: auto;\n  }\n  .left-bar {\n    height: auto;\n    width: 50%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    @media @xs {\n      margin-top: 50px;\n      width: 100%;\n      height: auto;\n      align-items: center;\n    }\n    .creator-form {\n      width: 300px;\n    }\n  }\n  .right-bar {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n  .btn-primary {\n    background: #9a0f20;\n    border-radius: 15px;\n    color: #fff;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: color 0.3s, background 0.3s;\n    font-family: TT Norms Regular;\n    font-style: normal;\n    font-weight: normal;\n    line-height: 28px;\n    font-size: 20px;\n    letter-spacing: -0.75px;\n    width: 300px;\n    height: 70px;\n    &:hover {\n      color: #000;\n      background: #fff;\n      transition: color 0.3s, background 0.3s;\n      cursor: pointer;\n    }\n  }\n  .qiwi {\n    margin-top: 25px;\n    a {\n      text-align: center;\n      text-decoration: none;\n      color: rgba(255, 255, 255, 0.6);\n      font-family: TT Norms Regular;\n      font-style: normal;\n      font-weight: normal;\n      line-height: 16px;\n      font-size: 20px;\n      &:hover {\n        color: white;\n        transition: color 0.3s;\n      }\n    }\n\n  }\n}\n\n.el-input {\n  input {\n    margin: 0;\n    border: 0;\n    padding-left: 10px;\n    padding-bottom: 5px;\n    display: inline-block;\n    vertical-align: middle;\n    white-space: normal;\n    background: none;\n    line-height: 1;\n    color: white;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.6);\n    transition: color @time-description, border-bottom @time-description;\n    height: @input-height;\n    width: 300px;\n    // margin-top: -3px;\n    line-height: 21px;\n    font-size: 18px;\n    border-radius: 0px;\n    @media @xs {\n      margin: 0;\n    }\n    &:focus,\n    &:hover {\n      outline: 0;\n      border-bottom: 1px solid rgba(255, 255, 255, 1);\n    }\n  }\n  &__suffix {\n    right: 0;\n  }\n}\n.el-form-item {\n  margin-bottom: 30px;\n  font-family: TT Norms Medium;\n  font-style: normal;\n  font-weight: normal;\n  color: #fff;\n  textarea {\n    resize: none;\n    background: #000;\n    border-top: none;\n    border-left: none;\n    border-right: none;\n    height: 50px;\n    width: 300px;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.6);\n    border-radius: 0px;\n    color: #fff;\n    padding-top: 15px;\n    font-size: 18px;\n    &:focus,\n    &:hover {\n      border-bottom: 1px solid rgba(255, 255, 255, 1);\n    }\n  }\n  &:focus-within,\n  &:hover {\n    .label {\n      font-size: @subtitle-size - 2;\n      top: -5px;\n      left: 0;\n      transition: color @time-description, top @time-description,\n        left @time-description, font-size @time-description;\n      width: 300px;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      @media @xs {\n        left: 2.5%;\n      }\n    }\n  }\n  .label {\n    height: 15px;\n    color: white;\n    position: absolute;\n    top: 50%;\n    left: 15px;\n    font-family: TT Norms Light;\n    font-style: normal;\n    font-weight: normal;\n    line-height: 16px;\n    font-size: 14px;\n    @media @xs {\n      left: 5%;\n      top: 14px;\n    }\n    transition: color @time-description, top @time-description,\n      left @time-description, font-size @time-description;\n    z-index: 2;\n    transform: translate(0, -50%);\n  }\n  .el-checkbox {\n    font-family: TT Norms Light;\n    font-style: normal;\n    font-weight: normal;\n    line-height: 16px;\n    font-size: 14px;\n  }\n  &__error {\n    font-family: TT Norms Light;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 12px;\n    color: #9a0f20;\n  }\n  &__content {\n    .is-checked {\n      .el-checkbox__inner {\n        background-color: #7dbf4f;\n        border-color: #7dbf4f;\n        &:hover {\n          border-color: #7dbf4f;\n        }\n      }\n      .el-checkbox__label {\n        color: #7dbf4f;\n      }\n    }\n    .is-focus {\n      .el-checkbox__inner {\n        border-color: #7dbf4f;\n        &:hover {\n          border-color: #7dbf4f;\n        }\n      }\n    }\n  }\n  .el-checkbox__label {\n    font-family: TT Norms Light;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 13px;\n    color: #fff;\n  }\n}\n.not-empty {\n  .label {\n    font-size: @subtitle-size - 2;\n    top: -5px;\n    left: 0;\n    transition: color @time-description, top @time-description,\n      left @time-description, font-size @time-description;\n    width: 300px;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n  }\n}\n.is-error {\n  .el-input__inner {\n    border-color: #9a0f20 !important;\n  }\n  .el-input__icon {\n    color: #9a0f20 !important;\n  }\n}\n.disabled-btn {\n  user-select: none;\n  pointer-events: none;\n  opacity: 0.7;\n}\n",{"version":3,"sources":["CreateValentine.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateValentine.vue","sourceRoot":"src/views","sourcesContent":["<template lang=\"pug\">\n  .creator\n    .left-bar\n      el-form(label-position='left', :model='ruleForm', :rules=\"rules\", status-icon, ref=\"ruleForm\", class=\"creator-form\")\n        el-form-item(prop=\"fromWhom\", :class=\"{'not-empty': ruleForm.fromWhom !== ''}\")\n          el-input(v-model='ruleForm.fromWhom', autocomplete=\"off\")\n          .label *{{$t(\"form.fromWhom\")}}\n        el-form-item(prop=\"forWhom\", :class=\"{'not-empty': ruleForm.forWhom !== ''}\")\n          el-input(v-model='ruleForm.forWhom', autocomplete=\"off\")\n          .label *{{$t(\"form.forWhom\")}}\n        el-form-item(prop=\"email\", :class=\"{'not-empty': ruleForm.email !== ''}\")\n          el-input(v-model='ruleForm.email', autocomplete=\"off\")\n          .label *E-mail\n        el-form-item(prop=\"message\", :class=\"{'not-empty': ruleForm.message !== ''}\")\n          el-input(type=\"textarea\", v-model=\"ruleForm.message\", maxlength=\"160\")\n          .label \n            span {{$t(\"form.greetingText\")}}\n            span(v-if=\"ruleForm.message !== '' && ruleForm.message.length !== 160\") {{160 - ruleForm.message.length}}\n        el-form-item(prop=\"checkbox\")\n          el-checkbox(v-model='ruleForm.checkbox', fill=\"#007f48\", autocomplete=\"off\", :label='$t(\"form.personalData\")')\n      .btn-primary(@click=\"submitForm()\", :class=\"{'disabled-btn': disabledBtn}\") {{$t(\"landing.btn\")}}\n      .qiwi \n         a(href=\"https://qiwi.com/p/79655864752\", target=\"_blank\")  {{$t(\"form.support\")}}\n    .right-bar\n     Iphone\n</template>\n<script>\nimport AppHeader from \"../components/Header\";\nimport Iphone from \"../components/Iphone\";\nimport ValentineService from \"../api/ValentineService.js\";\nimport { mapGetters, mapActions } from \"vuex\";\nexport default {\n  data() {\n    var validateFromWhom = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"Обязательное поле\"));\n      } else {\n        if (value !== \"\" && value.length < 20) {\n          this.setFromWhom(value);\n          callback();\n        } else {\n          callback(new Error(\"Слишком длинное Имя\"));\n        }\n      }\n    };\n    var validateForWhom = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"Обязательное поле\"));\n      } else {\n        if (value !== \"\" && value.length < 20) {\n          this.setForWhom(value);\n          callback();\n        } else {\n          callback(new Error(\"Слишком длинное Имя\"));\n        }\n      }\n    };\n    var validateMessage = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"Обязательное поле\"));\n      } else {\n        if (value !== \"\" && value.length < 160) {\n          this.setText(value);\n          callback();\n        } else {\n          callback(new Error(\"Слишком длинное Поздравление\"));\n        }\n      }\n    };\n    var validateEmail = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"Обязательное поле\"));\n      } else {\n        let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        const isTrue = re.test(value);\n        if (!isTrue) {\n          callback(new Error(\"Введите в формате. Пример: name@mail.ru\"));\n        } else {\n          callback();\n        }\n      }\n    };\n    var validateCheckBox = (rule, value, callback) => {\n      if (value === false) {\n        callback(\n          new Error(\"Пожалуйста согласитесь с пользовательским соглашением\")\n        );\n      } else {\n        callback();\n      }\n    };\n    return {\n      dialogFormVisible: true,\n      disabledBtn: false,\n      ruleForm: {\n        forWhom: \"\",\n        fromWhom: \"\",\n        email: \"\",\n        message: \"\",\n        checkbox: false\n      },\n      rules: {\n        forWhom: [{ validator: validateForWhom, trigger: \"blur\" }],\n        fromWhom: [{ validator: validateFromWhom, trigger: \"blur\" }],\n        email: [{ validator: validateEmail, trigger: \"blur\" }],\n        message: [{ validator: validateMessage, trigger: \"blur\" }],\n        checkbox: [{ validator: validateCheckBox, trigger: \"change\" }]\n      }\n    };\n  },\n  methods: {\n    ...mapActions({\n      setFromWhom: \"form/setFromWhom\",\n      setForWhom: \"form/setForWhom\",\n      setText: \"form/setText\",\n      showMainHeart: \"valentine/showMainHeart\",\n    }),\n    submitForm() {\n\n      this.$refs.ruleForm.validate(valid => {\n        if (valid) {\n          this.disabledBtn = true\n          try {\n            new Promise((resolve, reject) => {\n              const data = {\n                from: this.ruleForm.fromWhom,\n                to: this.ruleForm.forWhom,\n                text: this.ruleForm.message,\n                email: this.ruleForm.email,\n                сonsent: true\n              }\n              ValentineService.createValentine(data)\n                .then(response => {\n                  console.log(response);\n                  if (response.data.success) {\n                    this.disabledBtn = false\n                    window.location.href = response.data.pay_url;\n                  } else {\n                    reject(response)\n                  }\n                  resolve(response)\n                })\n                .catch(reject)\n            })\n          } catch (error) {\n            return false\n          }\n          \n        } else {\n          return false;\n        }\n      });\n    }\n  },\n  created () {\n    this.showMainHeart()\n    new Promise((resolve, reject) => {\n      ValentineService.setCounter()\n        .then(resolve)\n        .catch(reject);\n    });\n  },\n  components: {\n    AppHeader,\n    Iphone\n  }\n};\n</script>\n<style lang=\"less\">\n@import url(\"../style/animation.less\");\n\n.creator {\n  width: 100%;\n  padding: 0 8%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  background: #000;\n  @media @xs {\n    margin: 250px 0;\n    margin: 0;\n    padding: 0;\n    height: auto;\n    overflow-y: auto;\n  }\n  .left-bar {\n    height: auto;\n    width: 50%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n\n    @media @xs {\n      margin-top: 50px;\n      width: 100%;\n      height: auto;\n      align-items: center;\n    }\n    .creator-form {\n      width: 300px;\n    }\n  }\n  .right-bar {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n  .btn-primary {\n    background: #9a0f20;\n    border-radius: 15px;\n    color: #fff;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    transition: color 0.3s, background 0.3s;\n    font-family: TT Norms Regular;\n    font-style: normal;\n    font-weight: normal;\n    line-height: 28px;\n    font-size: 20px;\n    letter-spacing: -0.75px;\n    width: 300px;\n    height: 70px;\n    &:hover {\n      color: #000;\n      background: #fff;\n      transition: color 0.3s, background 0.3s;\n      cursor: pointer;\n    }\n  }\n  .qiwi {\n    margin-top: 25px;\n    a {\n      text-align: center;\n      text-decoration: none;\n      color: rgba(255, 255, 255, 0.6);\n      font-family: TT Norms Regular;\n      font-style: normal;\n      font-weight: normal;\n      line-height: 16px;\n      font-size: 20px;\n      &:hover {\n        color: white;\n        transition: color 0.3s;\n      }\n    }\n\n  }\n}\n\n.el-input {\n  input {\n    margin: 0;\n    border: 0;\n    padding-left: 10px;\n    padding-bottom: 5px;\n    display: inline-block;\n    vertical-align: middle;\n    white-space: normal;\n    background: none;\n    line-height: 1;\n    color: white;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.6);\n    transition: color @time-description, border-bottom @time-description;\n    height: @input-height;\n    width: 300px;\n    // margin-top: -3px;\n    line-height: 21px;\n    font-size: 18px;\n    border-radius: 0px;\n    @media @xs {\n      margin: 0;\n    }\n    &:focus,\n    &:hover {\n      outline: 0;\n      border-bottom: 1px solid rgba(255, 255, 255, 1);\n    }\n  }\n  &__suffix {\n    right: 0;\n  }\n}\n.el-form-item {\n  margin-bottom: 30px;\n  font-family: TT Norms Medium;\n  font-style: normal;\n  font-weight: normal;\n  color: #fff;\n  textarea {\n    resize: none;\n    background: #000;\n    border-top: none;\n    border-left: none;\n    border-right: none;\n    height: 50px;\n    width: 300px;\n    border-bottom: 1px solid rgba(255, 255, 255, 0.6);\n    border-radius: 0px;\n    color: #fff;\n    padding-top: 15px;\n    font-size: 18px;\n    &:focus,\n    &:hover {\n      border-bottom: 1px solid rgba(255, 255, 255, 1);\n    }\n  }\n  &:focus-within,\n  &:hover {\n    .label {\n      font-size: @subtitle-size - 2;\n      top: -5px;\n      left: 0;\n      transition: color @time-description, top @time-description,\n        left @time-description, font-size @time-description;\n      width: 300px;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n      @media @xs {\n        left: 2.5%;\n      }\n    }\n  }\n  .label {\n    height: 15px;\n    color: white;\n    position: absolute;\n    top: 50%;\n    left: 15px;\n    font-family: TT Norms Light;\n    font-style: normal;\n    font-weight: normal;\n    line-height: 16px;\n    font-size: 14px;\n    @media @xs {\n      left: 5%;\n      top: 14px;\n    }\n    transition: color @time-description, top @time-description,\n      left @time-description, font-size @time-description;\n    z-index: 2;\n    transform: translate(0, -50%);\n  }\n  .el-checkbox {\n    font-family: TT Norms Light;\n    font-style: normal;\n    font-weight: normal;\n    line-height: 16px;\n    font-size: 14px;\n  }\n  &__error {\n    font-family: TT Norms Light;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 12px;\n    color: #9a0f20;\n  }\n  &__content {\n    .is-checked {\n      .el-checkbox__inner {\n        background-color: #7dbf4f;\n        border-color: #7dbf4f;\n        &:hover {\n          border-color: #7dbf4f;\n        }\n      }\n      .el-checkbox__label {\n        color: #7dbf4f;\n      }\n    }\n    .is-focus {\n      .el-checkbox__inner {\n        border-color: #7dbf4f;\n        &:hover {\n          border-color: #7dbf4f;\n        }\n      }\n    }\n  }\n  .el-checkbox__label {\n    font-family: TT Norms Light;\n    font-style: normal;\n    font-weight: normal;\n    font-size: 13px;\n    color: #fff;\n  }\n}\n.not-empty {\n  .label {\n    font-size: @subtitle-size - 2;\n    top: -5px;\n    left: 0;\n    transition: color @time-description, top @time-description,\n      left @time-description, font-size @time-description;\n    width: 300px;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n  }\n}\n.is-error {\n  .el-input__inner {\n    border-color: #9a0f20 !important;\n  }\n  .el-input__icon {\n    color: #9a0f20 !important;\n  }\n}\n.disabled-btn {\n  user-select: none;\n  pointer-events: none;\n  opacity: 0.7;\n}\n</style>\n"]}]}