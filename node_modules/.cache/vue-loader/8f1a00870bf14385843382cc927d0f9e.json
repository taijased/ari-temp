{"remainingRequest":"/Users/taijased/Documents/WEB/ARQ/ari-temp/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/taijased/Documents/WEB/ARQ/ari-temp/src/views/Valentine.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/taijased/Documents/WEB/ARQ/ari-temp/src/views/Valentine.vue","mtime":1553690150424},{"path":"/Users/taijased/Documents/WEB/ARQ/ari-temp/node_modules/cache-loader/dist/cjs.js","mtime":1549106391509},{"path":"/Users/taijased/Documents/WEB/ARQ/ari-temp/node_modules/babel-loader/lib/index.js","mtime":1547794143554},{"path":"/Users/taijased/Documents/WEB/ARQ/ari-temp/node_modules/cache-loader/dist/cjs.js","mtime":1549106391509},{"path":"/Users/taijased/Documents/WEB/ARQ/ari-temp/node_modules/vue-loader/lib/index.js","mtime":1549106391675}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Heart from \"../service/heart.js\";\nimport ValentineService from '../api/ValentineService.js';\nexport default {\n  data () {\n    return {\n      data: null\n    }\n  },\n  methods: {\n    toggleFullScreen() {\n      if (\n            (document.fullScreenElement && document.fullScreenElement !== null) ||\n            (!document.mozFullScreen && !document.webkitIsFullScreen)\n        ) {\n            if (document.documentElement.requestFullScreen) {\n                document.documentElement.requestFullScreen();\n            } else if (document.documentElement.mozRequestFullScreen) {\n                document.documentElement.mozRequestFullScreen();\n            } else if (document.documentElement.webkitRequestFullScreen) {\n                document.documentElement.webkitRequestFullScreen(\n                    Element.ALLOW_KEYBOARD_INPUT\n                );\n            }\n        } else {\n            if (document.cancelFullScreen) {\n                document.cancelFullScreen();\n            } else if (document.mozCancelFullScreen) {\n                document.mozCancelFullScreen();\n            } else if (document.webkitCancelFullScreen) {\n                document.webkitCancelFullScreen();\n            }\n        }\n    }\n  },\n  created() {\n    new Promise((resolve, reject) => {\n      ValentineService.setCounter()\n        .then(resolve)\n        .catch(reject);\n    });\n    this.$nextTick(() => {\n      setTimeout(() => {\n        this.toggleFullScreen();\n      }, 1500);\n      if (this.$route.params.id) {\n        new Promise((resolve, reject) => {\n          ValentineService.getValentine(this.$route.params.id)\n            .then(response => {\n              console.log(response.data);\n              if (response.data.Card) {\n                Heart.runHeart(\"heart_for_love\");\n                setTimeout(() => {\n                  this.data = response.data.Card\n                }, 4500);\n              } else {\n                this.$router.push(\"/error404\");\n              }\n              \n              resolve(response);\n            })\n            .catch(error => {\n              this.$router.push(\"/error404\");\n              console.log('error: ' + error);\n            });\n        });\n      } else {\n        this.$router.push(\"/error404\");\n      }\n      \n    });\n  }\n};\n",{"version":3,"sources":["Valentine.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"Valentine.vue","sourceRoot":"src/views","sourcesContent":["\n<template lang=\"pug\">\n  .about-valentine(@click=\"toggleFullScreen()\")\n    canvas(id=\"heart_for_love\", width=\"320\", height=\"320\")\n    .description(v-if=\"data\")\n      .fromWhom.fade-in-left {{data.From}}\n      .text.fade-in {{data.Text}}\n      .forWhom.fade-in-right {{data.To}}\n</template>\n\n<script>\nimport Heart from \"../service/heart.js\";\nimport ValentineService from '../api/ValentineService.js';\nexport default {\n  data () {\n    return {\n      data: null\n    }\n  },\n  methods: {\n    toggleFullScreen() {\n      if (\n            (document.fullScreenElement && document.fullScreenElement !== null) ||\n            (!document.mozFullScreen && !document.webkitIsFullScreen)\n        ) {\n            if (document.documentElement.requestFullScreen) {\n                document.documentElement.requestFullScreen();\n            } else if (document.documentElement.mozRequestFullScreen) {\n                document.documentElement.mozRequestFullScreen();\n            } else if (document.documentElement.webkitRequestFullScreen) {\n                document.documentElement.webkitRequestFullScreen(\n                    Element.ALLOW_KEYBOARD_INPUT\n                );\n            }\n        } else {\n            if (document.cancelFullScreen) {\n                document.cancelFullScreen();\n            } else if (document.mozCancelFullScreen) {\n                document.mozCancelFullScreen();\n            } else if (document.webkitCancelFullScreen) {\n                document.webkitCancelFullScreen();\n            }\n        }\n    }\n  },\n  created() {\n    new Promise((resolve, reject) => {\n      ValentineService.setCounter()\n        .then(resolve)\n        .catch(reject);\n    });\n    this.$nextTick(() => {\n      setTimeout(() => {\n        this.toggleFullScreen();\n      }, 1500);\n      if (this.$route.params.id) {\n        new Promise((resolve, reject) => {\n          ValentineService.getValentine(this.$route.params.id)\n            .then(response => {\n              console.log(response.data);\n              if (response.data.Card) {\n                Heart.runHeart(\"heart_for_love\");\n                setTimeout(() => {\n                  this.data = response.data.Card\n                }, 4500);\n              } else {\n                this.$router.push(\"/error404\");\n              }\n              \n              resolve(response);\n            })\n            .catch(error => {\n              this.$router.push(\"/error404\");\n              console.log('error: ' + error);\n            });\n        });\n      } else {\n        this.$router.push(\"/error404\");\n      }\n      \n    });\n  }\n};\n</script>\n\n<style lang=\"less\">\n@xs: ~\"(max-width: 576px)\";\n\n.about-valentine {\n  height: 100vh;\n  width: 100vw;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 1);\n  canvas {\n    position: absolute;\n    width: 100%;\n    background-color: rgba(0, 0, 0, 1);\n    z-index: 10;\n    // @media @xs {\n    //   transform: scale(0.6);\n    // }\n  }\n  \n}\n\n.description {\n  color: #fff;\n  position: absolute;\n  height: 100%;\n  z-index: 100;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  overflow-y: auto;\n  font-family: TT Norms Regular;\n  .fromWhom {\n    text-align: left;\n    margin: 0 25px;\n    margin-bottom: 15px;\n    font-size: 32px;\n  }\n  .text {\n    font-size: 28px;\n    margin: 0 25px;\n    // line-height: 21px;\n    min-height: 70%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    text-align: center;\n\n  }\n  .forWhom {\n    text-align: right;\n    margin: 0 25px;\n    margin-top: 10px;\n    font-size: 32px;\n  }\n}\n.fade-in-left {\n\t-webkit-animation: fade-in-left 1s cubic-bezier(0.390, 0.575, 0.565, 1.000) both;\n\t        animation: fade-in-left 1s cubic-bezier(0.390, 0.575, 0.565, 1.000) both;\n}\n@-webkit-keyframes fade-in-left {\n  0% {\n    -webkit-transform: translateX(-50px);\n            transform: translateX(-50px);\n    opacity: 0;\n  }\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n    opacity: 1;\n  }\n}\n@keyframes fade-in-left {\n  0% {\n    -webkit-transform: translateX(-50px);\n            transform: translateX(-50px);\n    opacity: 0;\n  }\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n    opacity: 1;\n  }\n}\n.fade-in {\n\t-webkit-animation: fade-in 1.2s cubic-bezier(0.390, 0.575, 0.565, 1.000) 1s both;\n\t        animation: fade-in 1.2s cubic-bezier(0.390, 0.575, 0.565, 1.000) 1s both;\n}\n@-webkit-keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n.fade-in-right {\n\t-webkit-animation: fade-in-right 0.6s cubic-bezier(0.390, 0.575, 0.565, 1.000) 2s both;\n\t        animation: fade-in-right 0.6s cubic-bezier(0.390, 0.575, 0.565, 1.000) 2s both;\n}\n@-webkit-keyframes fade-in-right {\n  0% {\n    -webkit-transform: translateX(50px);\n            transform: translateX(50px);\n    opacity: 0;\n  }\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n    opacity: 1;\n  }\n}\n@keyframes fade-in-right {\n  0% {\n    -webkit-transform: translateX(50px);\n            transform: translateX(50px);\n    opacity: 0;\n  }\n  100% {\n    -webkit-transform: translateX(0);\n            transform: translateX(0);\n    opacity: 1;\n  }\n}\n\n</style>\n"]}]}